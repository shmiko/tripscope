)]}'
{"version":3,"file":"/packages/mrt:cookies.js","sources":["mrt:cookies/cookie.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,Y;;AAEA,kB;AACA,oC;;;;AAIA,6B;AACA,gC;AACA,a;AACA,+C;AACA,8B;AACA,G;AACA,gB;;AAEA,mC;;AAEA,kD;AACA,qE;;AAEA,uD;AACA,qD;AACA,oD;;AAEA,6D;AACA,E;;;;AAIA,8C;;AAEA,wC;AACA,gB;AACA,+D;AACA,oE;AACA,qE;AACA,wE;AACA,4E;AACA,gF;AACA,sC;AACA,U;AACA,4C;AACA,G;;AAEA,6G;AACA,wB;;AAEA,gC;AACA,a;AACA,+C;AACA,8B;AACA,G;AACA,iB;AACA,wB;AACA,E;;;AAGA,0B;AACA,uB;AACA,E;AACA,4B;AACA,2B;AACA,gB;AACA,qB;AACA,oC;AACA,gF;AACA,G;AACA,c;AACA,E;;;AAGA,+B;AACA,wC;AACA,E;;;;AAIA,8B;AACA,4B;AACA,2B;AACA,gB;AACA,qB;AACA,oC;AACA,gF;AACA,G;;AAEA,sB;AACA,0B;AACA,G;AACA,wB;AACA,E","sourcesContent":["Cookie = {};\n\nCookie._deps = {};\nCookie._dep = new Deps.Dependency();\n\n\n\nCookie.get = function(name) {\n  var _dep = Cookie._deps[name];\n  if(!_dep) {\n    Cookie._deps[name] = new Deps.Dependency();\n    _dep = Cookie._deps[name];\n  }\n  _dep.depend();\n\n  var fullCookie = document.cookie;\n\n  var startIndex = fullCookie.indexOf(name + '=');\n  if (startIndex === -1) return null;    /* named cookie not found */\n\n  startIndex = fullCookie.indexOf('=', startIndex) + 1;\n  var endIndex = fullCookie.indexOf(';', startIndex);\n  if (endIndex === -1) endIndex = fullCookie.length;\n\n  return unescape(fullCookie.substring(startIndex,endIndex));\n};\n\n\n\nCookie.set = function(name, value, duration) {\n\n  var expireTime = new Date().getTime();\n  if(duration) {\n    if(duration.seconds) expireTime += duration.seconds * 1000;\n    if(duration.minutes) expireTime += duration.minutes * 1000 * 60;\n    if(duration.hours) expireTime += duration.hours * 1000 * 60 * 60;\n    if(duration.days) expireTime += duration.days * 1000 * 60 * 60 * 24;\n    if(duration.months) expireTime += duration.months * 1000 * 60 * 60 * 30;\n    if(duration.years) expireTime += duration.years * 1000 * 60 * 60 * 24 * 366;\n    if(duration.clear) expireTime = 0;\n  } else {\n    expireTime += 366 * 24 * 60 * 60 * 1000;\n  }\n\n  var str = '' + name + '=' + escape(value) + '; expires=' + new Date(expireTime).toUTCString() + '; path=/';\n  document.cookie = str;\n\n  var _dep = Cookie._deps[name];\n  if(!_dep) {\n    Cookie._deps[name] = new Deps.Dependency();\n    _dep = Cookie._deps[name];\n  }\n  _dep.changed();\n  Cookie._dep.changed();\n};\n\n\nCookie.list = function() {\n  Cookie._dep.depend();\n  \n  var str = document.cookie;\n  var arr = str.split(';');\n  var list = [];\n  for(var i in arr) {\n    var index = arr[i].indexOf('=');\n    list.push(arr[i].substring(0, index).replace(/^ +/, '').replace(/ +$/, ''));\n  }\n  return list;\n};\n\n\nCookie.clear = function(name) {\n  Cookie.set(name, null, {clear: true});\n};\n\n\n\nCookie.clearAll = function() {\n  var str = document.cookie;\n  var arr = str.split(';');\n  var list = [];\n  for(var i in arr) {\n    var index = arr[i].indexOf('=');\n    list.push(arr[i].substring(0, index).replace(/^ +/, '').replace(/ +$/, ''));\n  }\n\n  for(var i in list) {\n    Cookie.clear(list[i]);\n  }\n  Cookie._dep.changed();\n};\n\n\n\n\n\n\n\n\n"]}